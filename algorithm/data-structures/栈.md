[[toc]]
## 栈
只能在表的同一端进行插入和删除操作，且操作遵循**先进后出**原则的线性表称为栈。
  - 栈进行插入、删除的变化端称为栈顶。    
  - 栈的封口端成为栈底。
  - 栈的先进后出原则：先入栈的元素在栈底，最后放入的元素在栈顶。
<div align="center">
    <img src="https://vista-image.oss-cn-beijing.aliyuncs.com/datastructure/image/栈_示例图.png" width="30%"  >
</div>

若用 $S=(a_1,a_2,a_3,...,a_n)$ 表示栈，则：    
&emsp;-&ensp;表尾端称为栈顶，表头端称为栈底。  
&emsp;-&ensp;$a_1$ 称为栈底元素，$a_n$ 称为栈顶元素。   
&emsp;-&ensp;当栈中无元素时称为空栈。  

栈常见的两种操作：  
- 入栈：添加一个元素到栈顶的操作。   
- 出栈：删除栈顶最后一个元素的操作。  
  <div align="center">
      <img src="https://vista-image.oss-cn-beijing.aliyuncs.com/datastructure/image/栈_入栈出栈.png"  width="50%"  >
  </div>
  
#### 栈的基本操作  
- 栈的初始化
- 判断栈是否为空
- 获取栈顶元素
- 入栈  
- 出栈  
- 遍历栈  
- 清空栈  

## 顺序栈
用一组连续的存储地址存储栈顶到栈底的元素，即用顺序存储方式存储的栈称为顺序栈。

栈指针的设置及栈空、栈满判断：  
  - 设 $base$ 为栈底指针，指示栈底元素在顺序栈中的位置，此指针不随栈的操作而变化
  - 设 $top$ 为栈顶指针，指示栈顶元素的下一个位置，初始值指向栈底：$top == base$
  - 用 $stackSize$ 表示栈的最大容量
  - 当 $base == top$ 时栈空，$top - base = stackSize$ 时栈满
  
<div align="center">
    <img src="https://vista-image.oss-cn-beijing.aliyuncs.com/datastructure/image/栈_顺序栈.png">
</div>

#### 顺序栈的初始化
- 为顺序栈分配容量为 $maxSize$ 的存储空间，使 $base$ 指向空间的基地址，即栈底。
- 设栈顶指针 $top == base$。
- 设 $stacksize == maxSize$。

#### 顺序栈的入栈
- 判断栈是否为满，若栈满则不能再添加元素。
- 否则，将新的元素压入栈顶，栈顶指针加 1：$top = top + 1$。

#### 顺序栈的出栈
- 判断栈是否为空，若栈空则不能再删除元素。
- 否则，栈顶指针减 1 ：$top = top - 1$，栈顶元素出栈。

#### 取栈顶元素
- 当栈非空时，返回当前栈顶元素的值，栈顶保持不变

## 链式栈
用链表存储方式实现的栈称为链式栈。  

链栈中如何区分栈顶和栈底？  
  - 若链尾为栈顶，每次栈顶的操作都要对链表进行遍历，时间复杂度为 $O(n)$；
  - 若链头为栈顶，则栈操作的时间复杂度为 $O(1)$；  
因此从时间复杂度上分析，宜采用链头作为栈顶。

链栈操作特点：   
  - 元素入栈，插入数据到链栈的头部；
  - 元素出栈，删除链栈的首元结点；  
故链栈可以看做只能在头部进行插入和删除的特殊链表。

<div align="center">
    <img src="https://vista-image.oss-cn-beijing.aliyuncs.com/datastructure/image/栈_链栈.png">
</div>

#### 链栈的初始化
操作步骤如下：
- 构造一个空栈
- 栈顶指针设置为空： $top == null$ 

#### 链栈的入栈
入栈操作是将数据元素插入到链栈的栈顶，具体操作如下：
- 创建新结点 $p$ 
- 将新结点插入到链栈的首元结点之前，修改新结点指针域：$p.next = top.next$
- 修改栈顶指针：$top = p$

<div align="center">
    <img src="https://vista-image.oss-cn-beijing.aliyuncs.com/datastructure/image/栈_链式栈的入栈.png">
</div>

#### 链栈的出栈
出栈操作就是删除链栈的首元结点，据具体操作如下：
- 判断链栈是否为空
- 若链栈不为空，获取首元结点 $p$ 的数据域
- 修改栈顶指针：$top = p.next$，指向首元结点的下一个结点
- 释放 $p$ 结点

<div align="center">
    <img src="https://vista-image.oss-cn-beijing.aliyuncs.com/datastructure/image/栈_链式栈的出栈.png">
</div>

#### 链栈的取栈顶元素
- 当栈非空时，返回当前栈顶元素的值，栈顶保持不变

#### 链栈的特点
1. 链栈不需要头结点，链表的头指针指向栈顶，插入和删除仅在栈顶处执行；
1. 基本不存在栈满的情况，空栈相当于头指针指向空。

## 顺序栈和链式栈的比较
存储空间： 顺序栈在初始化时必须申请存储空间，若栈不满时会造成存储空间的浪费；  
链式栈所需空间是随时申请的，比顺序栈仅存储结点相比，需要额外申请空间存储其指针域。  
  
时间复杂度：只针对栈顶的基本操作(入栈、出栈、栈元素的存取)，顺序栈和链式栈的时间复杂度均为 $O(1)$。

## 栈应用
1. 进制转换：根据十进制数字和需要转换的进制，实现转换。
1. 表达式求值：实现计算器的计算功能。
1. 括号匹配的检验：给出一串由括号组成的字符串，判断所有括号是否满足两两配对。
1. 迷宫求解。
1. (逆)波兰表达式求值：输入(逆)波兰表达式计算其结果。
1. 八皇后问题：在 $8*8$ 的国际象棋上摆放 8 个皇后，使其互不攻击（任意两个皇后都不在同一行、同一列、同一斜线上），该如何摆放，共有多少种摆放方式。
1. 汉诺塔问题。


## 参考  
 - 《数据结构(C语言版)》 严魏敏、吴伟民著  
 - 《数据结构(第3版)》 刘大有等著 
